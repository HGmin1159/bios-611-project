"0",""
"0","r <- results$rotation;"
"0","rotated <- results$x;"
"0","rotated[,500:1000] <- 0;"
"0",""
"0","less_noisy <- do.call(rbind, Map(function(trial){"
"0","    v <- rotated[trial,];"
"0","    t(r %*% v);"
"0","}, 1:1500));"
"0",""
"0","prep <- less_noisy %>% as_tibble() %>%"
"0","    mutate(trial=seq(nrow(.))) %>%"
"0","    pivot_longer(cols=`0`:`1000`) %>%"
"0","    group_by(trial) %>%"
"0","    mutate(time=seq(1000)) %>%"
"0","    ungroup() %>%"
"0","    filter(trial %in% sample(1:1500, 10));"
"0",""
"0","ggplot(prep,aes(time,value)) + geom_line(aes(color=factor(trial)));"
