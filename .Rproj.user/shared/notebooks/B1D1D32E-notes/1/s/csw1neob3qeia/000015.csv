"0",""
"0","data <-"
"0","    if(file.exists(""simcache.csv"")){"
"0","        read_csv(""simcache.csv"");"
"0","    } else {"
"0","        n_trials <- 1500;"
"0","        data <- do.call(rbind, Map(function(trial){"
"0","            cc <- make_current(0.27+stimulus*2.5 + dumbsmooth(rnorm(length(stimulus))*0.3, 50), 1000);"
"0","            f <- fhng(current=cc);"
"0","            ic <- c(-1.07386247, 0.1642691);"
"0","            r <- ode(ic, times=seq(from=0,to=1000,length.out=1000), func=f) %>%"
"0","                as.matrix() %>%"
"0","                as_tibble() %>% rename(V=`1`, R=`2`) %>%"
"0","                mutate(across(everything(), as.numeric)) %>%"
"0","                mutate(trial=trial);"
"0","        }, seq(1:n_trials)));"
"0","        data %>% write_csv(file=""simcache.csv"");"
"0","        data    "
"0","    }"
"2","[1mRows: [22m[34m1500000[39m [1mColumns: [22m[34m4[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (4): time, V, R, trial"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","ggplot(data %>% filter(trial <= 10),aes(time, V)) + geom_line(aes(color=factor(trial)));"
"0",""
